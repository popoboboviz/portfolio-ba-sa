# API расписания занятий

Этот документ описывает REST API для работы с расписанием уроков.

---

## 1. Получение расписания

### Метод и URL
`GET /api/v1/schedule`

### Описание
Возвращает список уроков за указанную дату, с возможностью фильтрации по классу или учителю.

### Параметры запроса

| Параметр      | Тип     | Обязательный | Описание                                  |
|---------------|---------|--------------|-------------------------------------------|
| date          | string  | да           | Дата в формате YYYY-MM-DD                 |
| class_id      | integer | нет          | Фильтр по классу                           |
| teacher_id    | integer | нет          | Фильтр по учителю                          |

### Примеры запросов

**1. Все уроки за дату**
```
GET /api/v1/schedule?date=2025-09-01
```

**2. Уроки конкретного класса**
```
GET /api/v1/schedule?date=2025-09-01&class_id=5
```

**3. Уроки конкретного учителя**
```
GET /api/v1/schedule?date=2025-09-01&teacher_id=10
```

---

## Пример успешного ответа (200 OK)

```json
{
  "date": "2025-09-01",
  "items": [
    {
      "lesson_id": 101,
      "time_start": "08:30",
      "time_end": "09:15",
      "subject_id": 3,
      "subject_name": "Математика",
      "teacher_id": 12,
      "teacher_name": "Иванов И.И.",
      "classroom_id": 204,
      "classroom_name": "Кабинет 204"
    }
  ]
}
```

---

## Возможные ошибки

### 400 Bad Request
```json
{
  "error": "VALIDATION_ERROR",
  "message": "Параметр 'date' обязателен и должен быть в формате YYYY-MM-DD."
}
```

### 404 Not Found
```json
{
  "error": "NOT_FOUND",
  "message": "Расписание не найдено."
}
```

### 500 Internal Server Error
```json
{
  "error": "INTERNAL_ERROR",
  "message": "Ошибка сервера."
}
```

---

## Связь с моделью данных (ERD)

API работает со следующими сущностями:

- Teacher — учителя  
- Subject — предметы  
- Classroom — кабинеты  
- Schedule — таблица расписания  

Поле `lesson_id` соответствует первичному ключу таблицы расписания.

---
